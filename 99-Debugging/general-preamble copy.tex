% Standard packages to always use
%\usepackage[utf8]{inputenc}
% The following command(s) fix an error generated by the inputenc package, "Package inputenc Error Unicode char (u+200B)
%	See inputenc documentation, pp. 3-4 (http://ftp.math.purdue.edu/mirrors/ctan.org/macros/latex/base/inputenc.pdf) for an explanation why inputenc does not define all utf8 characters and how to add undefined characters
%	See http://www.fileformat.info/info/unicode/char/200B/index.htm for the definition of u+200B as a zero-width space
%	See http://heyrod.com/snippets/zero-width-space-char-in-html-and-latex.html for how to implement zero-width space in LaTeX by using \hspace{(0pt)}
\DeclareUnicodeCharacter{200B}{\hspace{0pt}}
%\DeclareUnicodeCharacter{00E4}{\"a}
%\DeclareUnicodeCharacter{00E9}{\'{e}}
%\usepackage[main=USenglish]{babel}
%\usepackage{csquotes}

% Other packages go here
% % % % % % % % % % % % % %
% The following is based on Aaron Defazio's Setup Guide for thesis writing in LyX. See http://www.aarondefazio.com/tangentially/?p=19
% % % % % % % % % % % % % %
%\usepackage{svn-multi} %	Only use these two commands if versions of the document(s)
%\svnid{$Id$} %				are to be maintained by the Subversion VCS.
%
% This is Aaron's original version. Various LyX options call hyperref and set other, incompatible options. Make this conditional.
%	See https://tex.stackexchange.com/questions/16199/test-if-a-package-or-package-option-is-loaded for this approach
% Lots of this setting of hyperref is done in myMemoir. Decide on what should go where and get rid of the EXCESS.
%\@ifpackageloaded{hyperref}
%{ %
%	\hypersetup{hyperindex=true}
%}
%{ %
%    \usepackage[hyperindex=true,
%        bookmarks=true,
%        colorlinks=true,
%        pdfborder=0,
%        pagebackref=false,
%        citecolor=blue,
%        plainpages=false,
%        pdfpagelabels,
%        hyperfootnotes=true]{hyperref} % Assume this version is at least 2006/11/15, so don't need memhfixc. See Memoir Manual p. xxix.
%}

%\usepackage[all]{hypcap}
%\usepackage{hypcap}
\usepackage{afterpage}
\usepackage{graphicx}
\usepackage[normalem]{ulem}
%\usepackage{makeidx} Included in Memoir
\usepackage{cleveref}

% Problems with Memoir & LyX compatibility
% 	LyX implements subfigures by loading the subfig package; in turn, the subfig package loads the captions package.
%	But Memoir disables its own internal caption customization commands whenever the captions package is available.
%	Furthermore, I couldn't get subfig to stop loading the captions package.
%	Probably move this stuff into myMemoir area.
\usepackage[margin=10pt,font=small,labelfont=bf]{caption} % See https://longair.net/blog/2009/11/11/lyx-tips-for-thesis-writing/ for settings. He also sets labelsep=endash, but I prefer the default colon.
\usepackage{subfig} % Explicitly load the two packages.
\DeclareSubrefFormat{subbold}{\textbf{#2}} % Will boldface the subfloat identifier, not the float's.
\captionsetup[figure]{labelfont={bf}}%----------------------- added newly
\captionsetup[subfloat]{labelfont={bf},subrefformat=subbold}%

%\usepackage{float} Duplicates functionality built into Memoir (see p. 169 of Manual), and because of this causes problems when used. Also see
% https://tex.stackexchange.com/questions/23726/error-in-memoir-command-newfloat-already-defined
\usepackage{url}
\urlstyle{sf}
\renewcommand{\sfdefault}{uop}
\usepackage[T1]{fontenc}
\usepackage[scaled]{beramono}
\usepackage{pifont}
\usepackage{rotating}

\usepackage{multirow}
%\usepackage{subcaption}% To have subcaptions in mult-graphic figures. -- Can't use. Conflicts with Memoir.

%%%% Old macros file includes
%\usepackage{booktabs} Memoir does this; see p. xxvii of Memoir Manual
\usepackage{relsize}
\usepackage{xspace}
\usepackage{listings}
%%%%%%%%
% % % % % % % % % % % % % % % % % %

% Special packages needed
\usepackage{refcount}

% Redefine (Memoir's & Epigraph package) epigraph width
%	This is set in myMemoir, but you can reset it here.
\setlength{\epigraphwidth}{.65\linewidth}

% Bibliography stuff -- add the bibliography resource in the individual document preambles.
% Bibliography Options (I can't get bookseries to work, but it should. See p. 61 of the biblatex-chicago documentation at http://mirror.hmc.edu/ctan/macros/latex/exptl/biblatex-contrib/biblatex-chicago/doc/biblatex-chicago.pdf)
%\ExecuteBibliographyOptions{doi=only,bookpages=false,isbn=false,compresspages}
%\ExecuteBibliographyOptions{doi=only,bookpages=false,isbn=false,bookseries=false,compresspages}

%%%% The following are preliminary customizations for LyX 2.3 built-in BibLaTeX that give, IMHO,
%%%% a much better format than the default CMS author-date.
%%%% See Section 3.11 of the Biblatex manual for these and (so many) other commands.
%%%% 
%%%% Note that these commands have to be delayed until after the \begin{document} command because LyX doesn't load BibLaTeX until just before it.
\AtBeginDocument{
\renewcommand{\nameyeardelim}{\addspace}
\renewcommand{\postnotedelim}{\addcolon\space}
}



% Cosmetics
\setbeforesecskip{-2em}
\setbeforesubsecskip{-2em}
\captionnamefont{\bfseries\Large\sffamily} % To make Figure 1:, Table 1:, etc. bold.

% Temporary cosmetics
\addtolength{\absleftindent}{-5em}
\addtolength{\absrightindent}{-5em}

% Some help with graphics
%\DeclareGraphicsExtensions{.png,.pdf} % Recommended by Hadley Wickham (2009: 150) ggplot2. BUT
% THIS PAGE: http://tex.stackexchange.com/questions/45498/choosing-whether-to-include-pdf-or-png-in-pdflatex
% says this is the default setup anyway, but with more capabilities. So just leave this disabled for now.
\graphicspath{{./images/}{./graphs/}} % This may not be useful with LyX, or even counter-productive. Hadley Wickham suggests using it.

